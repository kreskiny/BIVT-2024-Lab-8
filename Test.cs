using System;
using Lab_8_1;

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Lab_8
{
    class Program
    {
        //static void Main(string[] args)
        //{
        //    //Blue_1
        //    //string input = null;
        //    //Blue_1 blue = new Blue_1(input);
        //    //blue.Review();
        //    //Console.WriteLine(blue.ToString());

        //    //Blue_2
        //    //string input = "1 июля 2015 года Греция объявила о дефолте по государственному долгу, став первой развитой страной в истории, которая не смогла выплатить свои долговые обязательства в полном объеме. Сумма дефолта составила порядка 1,6 миллиарда евро. Этому предшествовали долгие переговоры с международными кредиторами, такими как Международный валютный фонд (МВФ), Европейский центральный банк (ЕЦБ) и Европейская комиссия (ЕК), о программах финансовой помощи и реструктуризации долга. Основными причинами дефолта стали недостаточная эффективность реформ, направленных на улучшение финансовой стабильности страны, а также политическая нестабильность, что вызвало потерю доверия со стороны международных инвесторов и кредиторов. Последствия дефолта оказались глубокими и долгосрочными: сокращение кредитного рейтинга страны, увеличение затрат на заемный капитал, рост стоимости заимствований и утрата доверия со стороны международных инвесторов.";
        //    //string set = "и";
        //    //Blue_2 blue = new Blue_2(input, set);
        //    //blue.Review();
        //    //Console.WriteLine(blue.ToString());

        //    ////Blue_3
        //    //string input = "Первое кругосветное путешествие было осуществлено флотом, возглавляемым португальским исследователем Фернаном Магелланом. Путешествие началось 20 сентября 1519 года, когда флот, состоящий из пяти кораблей и примерно 270 человек, отправился из порту Сан-Лукас в Испании. Хотя Магеллан не закончил свое путешествие из-за гибели в битве на Филиппинах в 1521 году, его экспедиция стала первой, которая успешно обогнула Землю и доказала ее круглую форму. Это путешествие открыло новые морские пути и имело огромное значение для картографии и географических открытий.";
        //    //Blue_3 blue = new Blue_3(input);
        //    //blue.Review();
        //    //Console.WriteLine(blue.ToString());

        //    ////Blue_4
        //    //string input = "После многолетних исследований ученые обнаружили тревожную тенденцию в вырубке лесов Амазонии. Анализ данных показал, что основной участник разрушения лесного покрова – человеческая деятельность. За последние десятилетия рост объема вырубки достиг критических показателей. Главными факторами, способствующими этому, являются промышленные рубки, производство древесины, расширение сельскохозяйственных угодий и незаконная добыча древесины. Это приводит к серьезным экологическим последствиям, таким как потеря биоразнообразия, ухудшение климата и угроза вымирания многих видов животных и растений.";
        //    //Blue_4 blue = new Blue_4(input);
        //    //blue.Review();
        //    //Console.WriteLine(blue.ToString());

        //}
    }
}

class BlueTest
{
    public static void Main()
    {
        //    RunTest_2(
        //"Фьорды – это ущелья, формирующиеся ледниками и заполняющиеся морской водой. Название происходит от древнескандинавского слова \"fjǫrðr\". Эти глубокие заливы, окруженные высокими горами, представляют захватывающие виды и природную красоту. Они популярны среди туристов и известны под разными названиями: в Норвегии – \"фьорды\", в Шотландии – \"фьордс\", в Исландии – \"фьордар\". Фьорды играют важную роль в культуре и туризме региона, продолжая вдохновлять людей со всего мира.",
        //"ьо",
        //"– это ущелья, формирующиеся ледниками и заполняющиеся морской водой. Название происходит от древнескандинавского слова \"fjǫrðr\". Эти глубокие заливы, окруженные высокими горами, представляют захватывающие виды и природную красоту. Они популярны среди туристов и известны под разными названиями: в Норвегии – \"\", в Шотландии – \"\", в Исландии – \"\". играют важную роль в культуре и туризме региона, продолжая вдохновлять людей со всего мира."
        //);
        //    RunTest_2(
        //    "После многолетних исследований ученые обнаружили тревожную тенденцию в вырубке лесов Амазонии. Анализ данных показал, что основной участник разрушения лесного покрова – человеческая деятельность. За последние десятилетия рост объема вырубки достиг критических показателей. Главными факторами, способствующими этому, являются промышленные рубки, производство древесины, расширение сельскохозяйственных угодий и незаконная добыча древесины. Это приводит к серьезным экологическим последствиям, таким как потеря биоразнообразия, ухудшение климата и угроза вымирания многих видов животных и растений.",
        //    "ос",
        //    "многолетних исследований ученые обнаружили тревожную тенденцию в вырубке лесов Амазонии. Анализ данных показал, что участник разрушения лесного покрова – человеческая. За десятилетия объема вырубки критических показателей. Главными факторами, этому, являются промышленные рубки, производство древесины, расширение сельскохозяйственных угодий и незаконная добыча древесины. Это приводит к серьезным экологическим, таким как потеря биоразнообразия, ухудшение климата и угроза вымирания многих видов животных и растений."
        //);
        //RunTest_2(
        //    "Двигатель самолета – это сложная инженерная конструкция, обеспечивающая подъем, управление и движение в воздухе. Он состоит из множества компонентов, каждый из которых играет важную роль в общей работе механизма. Внутреннее устройство двигателя включает в себя компрессор, камеру сгорания, турбину и системы управления и охлаждения. Принцип работы основан на воздушно-топливной смеси, которая подвергается сжатию, воспламенению и расширению, обеспечивая движение воздушного судна.",
        //    "ви",
        //    "самолета – это сложная инженерная конструкция, обеспечивающая подъем, управление и в воздухе. Он состоит из множества компонентов, каждый из которых играет важную роль в общей работе механизма. Внутреннее устройство включает в себя компрессор, камеру сгорания, турбину и системы управления и охлаждения. Принцип работы основан на воздушно-топливной смеси, которая подвергается сжатию, воспламенению и расширению, обеспечивая воздушного судна."
        //);
        //RunTest_2(
        //    "1 июля 2015 года Греция объявила о дефолте по государственному долгу, став первой развитой страной в истории, которая не смогла выплатить свои долговые обязательства в полном объеме. Сумма дефолта составила порядка 1,6 миллиарда евро. Этому предшествовали долгие переговоры с международными кредиторами, такими как Международный валютный фонд (МВФ), Европейский центральный банк (ЕЦБ) и Европейская комиссия (ЕК), о программах финансовой помощи и реструктуризации долга. Основными причинами дефолта стали недостаточная эффективность реформ, направленных на улучшение финансовой стабильности страны, а также политическая нестабильность, что вызвало потерю доверия со стороны международных инвесторов и кредиторов. Последствия дефолта оказались глубокими и долгосрочными: сокращение кредитного рейтинга страны, увеличение затрат на заемный капитал, рост стоимости заимствований и утрата доверия со стороны международных инвесторов.",
        //    " и",
        //    "1 июля 2015 года Греция объявила о дефолте по государственному долгу, став первой развитой страной в истории, которая не смогла выплатить свои долговые обязательства в полном объеме. Сумма дефолта составила порядка 1,6 миллиарда евро. Этому предшествовали долгие переговоры с международными кредиторами, такими как Международный валютный фонд (МВФ), Европейский центральный банк (ЕЦБ) и Европейская комиссия (ЕК), о программах финансовой помощи и реструктуризации долга. Основными причинами дефолта стали недостаточная эффективность реформ, направленных на улучшение финансовой стабильности страны, а также политическая нестабильность, что вызвало потерю доверия со стороны международных инвесторов и кредиторов. Последствия дефолта оказались глубокими и долгосрочными: сокращение кредитного рейтинга страны, увеличение затрат на заемный капитал, рост стоимости заимствований и утрата доверия со стороны международных инвесторов."
        //);
        //RunTest_2(
        //    "Первое кругосветное путешествие было осуществлено флотом, возглавляемым португальским исследователем Фернаном Магелланом. Путешествие началось 20 сентября 1519 года, когда флот, состоящий из пяти кораблей и примерно 270 человек, отправился из порту Сан-Лукас в Испании. Хотя Магеллан не закончил свое путешествие из-за гибели в битве на Филиппинах в 1521 году, его экспедиция стала первой, которая успешно обогнула Землю и доказала ее круглую форму. Это путешествие открыло новые морские пути и имело огромное значение для картографии и географических открытий.",
        //    "ер",
        //    "кругосветное путешествие было осуществлено флотом, возглавляемым португальским исследователем Магелланом. Путешествие началось 20 сентября 1519 года, когда флот, состоящий из пяти кораблей и 270 человек, отправился из порту Сан-Лукас в Испании. Хотя Магеллан не закончил свое путешествие из-за гибели в битве на Филиппинах в 1521 году, его экспедиция стала, которая успешно обогнула Землю и доказала ее круглую форму. Это путешествие открыло новые морские пути и имело огромное значение для картографии и географических открытий."
        //);
        //    RunTest_3(
        //    "После многолетних исследований ученые обнаружили тревожную тенденцию в вырубке лесов Амазонии. Анализ данных показал, что основной участник разрушения лесного покрова – человеческая деятельность. За последние десятилетия рост объема вырубки достиг критических показателей. Главными факторами, способствующими этому, являются промышленные рубки, производство древесины, расширение сельскохозяйственных угодий и незаконная добыча древесины. Это приводит к серьезным экологическим последствиям, таким как потеря биоразнообразия, ухудшение климата и угроза вымирания многих видов животных и растений.",
        //    new (char, double)[]
        //    {
        //                ('п', 14.9254),
        //                ('д', 10.4478),
        //                ('в', 7.4627),
        //                ('р', 7.4627),
        //                ('у', 7.4627),
        //                ('и', 5.9701),
        //                ('к', 5.9701),
        //                ('о', 4.4776),
        //                ('с', 4.4776),
        //                ('т', 4.4776),
        //                ('э', 4.4776),
        //                ('а', 2.9851),
        //                ('л', 2.9851),
        //                ('м', 2.9851),
        //                ('ч', 2.9851),
        //                ('б', 1.4925),
        //                ('г', 1.4925),
        //                ('ж', 1.4925),
        //                ('з', 1.4925),
        //                ('н', 1.4925),
        //                ('ф', 1.4925),
        //                ('я', 1.4925)
        //    }
        //);

        //RunTest_3(
        //    "Двигатель самолета – это сложная инженерная конструкция, обеспечивающая подъем, управление и движение в воздухе. Он состоит из множества компонентов, каждый из которых играет важную роль в общей работе механизма. Внутреннее устройство двигателя включает в себя компрессор, камеру сгорания, турбину и системы управления и охлаждения. Принцип работы основан на воздушно-топливной смеси, которая подвергается сжатию, воспламенению и расширению, обеспечивая движение воздушного судна.",
        //    new (char, double)[]
        //    {
        //    ('в', 16.9492),
        //    ('с', 15.2542),
        //    ('и', 13.5593),
        //    ('к', 11.8644),
        //    ('о', 10.1695),
        //    ('д', 6.7797),
        //    ('р', 6.7797),
        //    ('п', 5.0847),
        //    ('у', 5.0847),
        //    ('м', 3.3898),
        //    ('н', 1.6949),
        //    ('т', 1.6949),
        //    ('э', 1.6949)
        //    }
        //);

        //RunTest_3(
        //    "1 июля 2015 года Греция объявила о дефолте по государственному долгу, став первой развитой страной в истории, которая не смогла выплатить свои долговые обязательства в полном объеме. Сумма дефолта составила порядка 1,6 миллиарда евро. Этому предшествовали долгие переговоры с международными кредиторами, такими как Международный валютный фонд (МВФ), Европейский центральный банк (ЕЦБ) и Европейская комиссия (ЕК), о программах финансовой помощи и реструктуризации долга. Основными причинами дефолта стали недостаточная эффективность реформ, направленных на улучшение финансовой стабильности страны, а также политическая нестабильность, что вызвало потерю доверия со стороны международных инвесторов и кредиторов. Последствия дефолта оказались глубокими и долгосрочными: сокращение кредитного рейтинга страны, увеличение затрат на заемный капитал, рост стоимости заимствований и утрата доверия со стороны международных инвесторов.",
        //    new (char, double)[]
        //    {
        //    ('с', 15.3153),
        //    ('п', 10.8108),
        //    ('д', 9.9099),
        //    ('и', 8.1081),
        //    ('к', 6.3063),
        //    ('о', 6.3063),
        //    ('м', 5.4054),
        //    ('н', 5.4054),
        //    ('в', 4.5045),
        //    ('е', 4.5045),
        //    ('р', 4.5045),
        //    ('г', 3.6036),
        //    ('з', 2.7027),
        //    ('у', 2.7027),
        //    ('ф', 2.7027),
        //    ('т', 1.8018),
        //    ('э', 1.8018),
        //    ('а', 0.9009),
        //    ('б', 0.9009),
        //    ('ц', 0.9009),
        //    ('ч', 0.9009)
        //    }
        //);

        //RunTest_3(
        //    "Фьорды – это ущелья, формирующиеся ледниками и заполняющиеся морской водой. Название происходит от древнескандинавского слова \"fjǫrðr\". Эти глубокие заливы, окруженные высокими горами, представляют захватывающие виды и природную красоту. Они популярны среди туристов и известны под разными названиями: в Норвегии – \"фьорды\", в Шотландии – \"фьордс\", в Исландии – \"фьордар\". Фьорды играют важную роль в культуре и туризме региона, продолжая вдохновлять людей со всего мира.",
        //    new (char, double)[]
        //    {
        //    ('в', 16.6667),
        //    ('и', 11.6667),
        //    ('п', 10.0000),
        //    ('ф', 10.0000),
        //    ('з', 5.0000),
        //    ('н', 5.0000),
        //    ('о', 5.0000),
        //    ('р', 5.0000),
        //    ('с', 5.0000),
        //    ('г', 3.3333),
        //    ('к', 3.3333),
        //    ('л', 3.3333),
        //    ('м', 3.3333),
        //    ('т', 3.3333),
        //    ('э', 3.3333),
        //    ('f', 1.6667),
        //    ('д', 1.6667),
        //    ('у', 1.6667),
        //    ('ш', 1.6667)
        //    }
        //);

        //RunTest_3(
        //    "William Shakespeare, widely regarded as one of the greatest writers in the English language, authored a total of 37 plays, along with numerous poems and sonnets. He was born in Stratford-upon-Avon, England, in 1564, and died in 1616. Shakespeare's most famous works, including \"Romeo and Juliet,\" \"Hamlet,\" \"Macbeth,\" and \"Othello,\" were written during the late 16th and early 17th centuries. \"Romeo and Juliet,\" a tragic tale of young love, was penned around 1595. \"Hamlet,\" one of his most celebrated tragedies, was written in the early 1600s, followed by \"Macbeth,\" a gripping drama exploring themes of ambition and power, around 1606. \"Othello,\" a tragedy revolving around jealousy and deceit, was also composed during this period, believed to be around 1603.",
        //    new (char, double)[]
        //    {
        //    ('a', 19.0909),
        //    ('t', 10.9091),
        //    ('w', 10.9091),
        //    ('o', 8.1818),
        //    ('i', 5.4545),
        //    ('d', 4.5455),
        //    ('e', 4.5455),
        //    ('p', 4.5455),
        //    ('b', 3.6364),
        //    ('h', 3.6364),
        //    ('m', 3.6364),
        //    ('r', 3.6364),
        //    ('s', 3.6364),
        //    ('c', 2.7273),
        //    ('j', 2.7273),
        //    ('l', 2.7273),
        //    ('f', 1.8182),
        //    ('g', 1.8182),
        //    ('n', 0.9091),
        //    ('y', 0.9091)
        //    }
        //);

        RunTest_3(
            "Первое кругосветное путешествие было осуществлено флотом, возглавляемым португальским исследователем Фернаном Магелланом. Путешествие началось 20 сентября 1519 года, когда флот, состоящий из пяти кораблей и примерно 270 человек, отправился из порту Сан-Лукас в Испании. Хотя Магеллан не закончил свое путешествие из-за гибели в битве на Филиппинах в 1521 году, его экспедиция стала первой, которая успешно обогнула Землю и доказала ее круглую форму. Это путешествие открыло новые морские пути и имело огромное значение для картографии и географических открытий.",
            new (char, double)[]
            {
            ('п', 15.2778),
            ('и', 13.8889),
            ('к', 8.3333),
            ('о', 8.3333),
            ('с', 6.9444),
            ('ф', 6.9444),
            ('в', 5.5556),
            ('г', 5.5556),
            ('н', 5.5556),
            ('з', 4.1667),
            ('м', 4.1667),
            ('б', 2.7778),
            ('д', 2.7778),
            ('е', 2.7778),
            ('э', 2.7778),
            ('у', 1.3889),
            ('х', 1.3889),
            ('ч', 1.3889)
            }
        );
    }

    //static void RunTest_2(string input, string pattern, string expectedOutput = null)
    //{
    //    var processor = new Blue_2(input, pattern);
    //    processor.Review();
    //    Console.WriteLine("Ввод:\n" + input);
    //    Console.WriteLine("\nПаттерн: \"" + pattern + "\"");
    //    Console.WriteLine("\nВывод:\n" + processor.Output);

    //    if (expectedOutput != null)
    //    {
    //        Console.WriteLine("\nОжидаемый вывод:\n" + expectedOutput);
    //        Console.WriteLine("\nТест " + (processor.Output == expectedOutput ? "пройден ✅" : "не пройден ❌"));
    //    }

    //    Console.WriteLine("\n-----------------------------------------\n");
    //}

    static void RunTest_3(string input, (char, double)[] expectedOutput)
    {
        var processor = new Blue_3(input);
        processor.Review();
        var actualOutput = processor.Output;

        Console.WriteLine("Ввод:\n" + input);
        Console.WriteLine("\nОжидаемый результат:");
        PrintLettersInfo(expectedOutput);

        Console.WriteLine("\nФактический результат:");
        PrintLettersInfo(actualOutput);

        bool isEqual = CompareOutputs(expectedOutput, actualOutput);
        Console.WriteLine("\nТест " + (isEqual ? "пройден ✅" : "не пройден ❌"));
        Console.WriteLine("\n-----------------------------------------\n");
    }
    static void PrintLettersInfo((char, double)[] letters)
    {
        if (letters == null || letters.Length == 0)
        {
            Console.WriteLine("(нет данных)");
            return;
        }

        foreach (var item in letters)
        {
            Console.WriteLine($"{item.Item1} - {item.Item2:0.0000}");
        }
    }

    static bool CompareOutputs((char, double)[] expected, (char, double)[] actual)
    {
        if (expected == null && actual == null) return true;
        if (expected == null || actual == null) return false;
        if (expected.Length != actual.Length) return false;

        for (int i = 0; i < expected.Length; i++)
        {
            if (expected[i].Item1 != actual[i].Item1) return false;
            if (Math.Abs(expected[i].Item2 - actual[i].Item2) > 0.0001) return false;
        }

        return true;
    }

}




